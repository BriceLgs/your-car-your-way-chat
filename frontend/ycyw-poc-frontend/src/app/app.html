<div style="max-width: 600px; margin: auto; padding: 20px;">
  <h2>Chat POC - Your Car Your Way</h2>
  
  <div style="margin-bottom: 10px; padding: 8px; background-color: #f0f0f0; border-radius: 4px;">
    <strong>Statut:</strong> 
    <span [style.color]="isConnected() ? 'green' : 'red'">
      {{ isConnected() ? 'Connecté' : 'Déconnecté' }}
    </span>
  </div>
  
  <div style="height: 400px; border: 1px solid #ccc; overflow-y: auto; padding: 10px; margin-bottom: 20px;">
    <div *ngFor="let msg of messages()" style="margin-bottom: 10px; padding: 8px; background-color: #f5f5f5; border-radius: 4px;">
      <strong>{{ msg.utilisateurId === 1 ? 'Vous' : 'Agent' }}:</strong> {{ msg.contenu }}
      <small style="color: #666; display: block; margin-top: 4px;">{{ msg.date | date:'short' }}</small>
    </div>
  </div>
  
  <div style="display: flex; gap: 10px;">
    <mat-form-field appearance="fill" style="flex: 1;">
      <input matInput 
             [ngModel]="newMessage()" 
             (ngModelChange)="newMessage.set($event)" 
             placeholder="Tapez votre message..."
             (keyup.enter)="sendMessage()">
    </mat-form-field>
    <button mat-raised-button 
            color="primary" 
            (click)="sendMessage()" 
            [disabled]="!newMessage() || !isConnected()">
      Envoyer
    </button>
  </div>
</div>